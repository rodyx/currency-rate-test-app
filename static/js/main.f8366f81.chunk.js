(this["webpackJsonpexchange-rates"]=this["webpackJsonpexchange-rates"]||[]).push([[0],{27:function(e,t,r){e.exports={converter:"styles_converter__1xYuU",converterInput:"styles_converterInput__3SlEi",resultWrapper:"styles_resultWrapper__3Urf5",resultBlock:"styles_resultBlock__1hHZ4",resultValue:"styles_resultValue__1Dyhn",resultText:"styles_resultText__2Im7m"}},45:function(e,t,r){e.exports={appHeader:"styles_appHeader__3wh8J",selectWrapper:"styles_selectWrapper__3Yove",selected:"styles_selected__1kXV9"}},58:function(e,t,r){e.exports={hWrapper:"styles_hWrapper__3Gr9V",rateWrapper:"styles_rateWrapper__1iDNm",rateItem:"styles_rateItem__3JBgW"}},61:function(e,t,r){e.exports={select:"styles_select__pEhDQ",option:"styles_option__kfO68"}},69:function(e,t,r){e.exports={appMain:"styles_appMain__3mJOK"}},87:function(e,t,r){},88:function(e,t,r){},95:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r(26),a=r.n(n),s=(r(87),r(88),r(10)),u=r(11),l=r(32),o=r(69),i=r.n(o),p=r(45),j=r.n(p),d=r(41),f=r(98),b=r(61),h=r.n(b),m=[{name:"USD",img:"https://cutt.ly/9cPAwVE"},{name:"EUR",img:"https://cutt.ly/xcPATfI"},{name:"GBP",img:"https://cutt.ly/6cPA0Ns"},{name:"CNY",img:"https://cutt.ly/XcPSsKE"},{name:"JPY",img:"https://cutt.ly/icPSRPi"},{name:"CHF",img:"https://cutt.ly/ucPSKGQ"},{name:"RUB",img:"https://cutt.ly/zcPSVhn"},{name:"UZS",img:"https://cutt.ly/ucPS17P"}],O=r(7),x=r(43),v=r.n(x),_=r(50);function y(){return(y=Object(_.a)(v.a.mark((function e(t){var r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.currencylayer.com/live?access_key=791dd482f3ddfc2ce5389e9b95958cc1&source=".concat(t));case 2:if(!(r=e.sent).ok){e.next=10;break}return e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=Object(O.d)(),N=Object(O.d)(),S=Object(O.d)(),k=Object(O.c)((function(e){return y.apply(this,arguments)})),E=Object(O.e)(localStorage.getItem("currency")||"USD").on(N,(function(e,t){return localStorage.setItem("currency",t),t})),w=Object(O.e)({}).on(k.doneData,(function(e,t){return function(e){for(var t=new Map,r=0,c=Object.entries(e);r<c.length;r++){var n=Object(u.a)(c[r],2),a=n[0],s=n[1];t.set(a,s)}return t}(t.quotes)}));Object(O.f)({source:g,filter:function(e){return Boolean(e)},target:N}),Object(O.f)({source:S,filter:function(e){return Boolean(e)},target:k});var I=r(5),W=function(e){var t=e.setSelected,r=Object(l.a)(E);return Object(I.jsx)(f.a,{defaultValue:"USD",value:r||"USD",className:h.a.select,onSelect:function(e){t(e)},children:m.map((function(e){return Object(I.jsx)(f.a.Option,{value:e.name,children:Object(I.jsxs)("div",{className:h.a.option,children:[Object(I.jsx)("img",{src:e.img,alt:"flag",height:"20px",width:"20px"}),e.name]})},e.name)}))})},D=function(){var e=Object(c.useState)(),t=Object(u.a)(e,2),r=t[0],n=t[1];return Object(c.useEffect)((function(){g(r),S(r)}),[r]),Object(I.jsxs)("header",{className:j.a.appHeader,children:[Object(I.jsx)(d.b,{exact:!0,to:"/",activeClassName:j.a.selected,children:Object(I.jsx)("div",{children:"Converter"})}),Object(I.jsxs)("div",{className:j.a.selectWrapper,children:[Object(I.jsx)("span",{children:"Currency:"}),Object(I.jsx)(W,{className:j.a.headerSelect,setSelected:n})]}),Object(I.jsx)(d.b,{to:"/currency-rate",activeClassName:j.a.selected,children:Object(I.jsx)("div",{children:"Rates"})})]})},P=function(e){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(D,{}),Object(I.jsx)("main",{className:i.a.appMain,children:e.children})]})};function B(e){var t=e.split(/in|to|\u0432|\u043d\u0430/);return 2===t.length&&["".concat(t[0].toUpperCase().match(/[A-Z]{3}/g)),"".concat(t[1].toUpperCase().match(/[A-Z]{3}/g)),"".concat(t[0].match(/\d+(\.\d+)*/g))]}function U(){return(U=Object(_.a)(v.a.mark((function e(t){var r,c,n,a,s,l,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=B(t)){e.next=3;break}throw new Error("You have provided an invalid request. Example: '15 eur in usd'");case 3:if(c=Object(u.a)(r,3),n=c[0],a=c[1],+(s=c[2])){e.next=6;break}throw new Error("You have not specified an amount to be converted.");case 6:return e.next=8,fetch("https://api.currencylayer.com/convert?access_key=791dd482f3ddfc2ce5389e9b95958cc1&from=".concat(n,"&to=").concat(a,"&amount=").concat(s));case 8:if(!(l=e.sent).ok){e.next=16;break}return e.next=12,l.json();case 12:return o=e.sent,e.abrupt("return",o);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=Object(O.c)((function(e){return U.apply(this,arguments)})),V=Object(O.d)(),R=Object(O.e)(null).on(C.doneData,(function(e,t){return"".concat(t.result," ").concat(t.query.to)||t.error.info})).on(C.failData,(function(e,t){return t.toString()||"Error"})),A=Object(O.e)(null).on(C.doneData,(function(e,t){var r;return(null===(r=t.info)||void 0===r?void 0:r.quote)||"Error"})).on(C.fail,(function(){return"Error"}));Object(O.f)({source:V,filter:function(e){return Boolean(e)},target:C});var J=r(27),T=r.n(J),Y=r(58),H=r.n(Y);var q=function(e,t){var r=Object(c.useRef)();Object(c.useEffect)((function(){r.current=e}),[e]),Object(c.useEffect)((function(){if(null!==t){var e=setInterval((function(){r.current()}),t);return function(){return clearInterval(e)}}}),[t])},M=[{title:"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440",component:function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),r=t[0],n=t[1],a=Object(l.a)(R),s=Object(l.a)(A);return Object(I.jsx)(P,{children:Object(I.jsxs)("div",{className:T.a.converter,children:[Object(I.jsx)("form",{onSubmit:function(e){V(r),e.preventDefault(),e.currentTarget.reset()},children:Object(I.jsx)("div",{className:T.a.converterInput,children:Object(I.jsx)("input",{placeholder:"100 usd in...",onChange:function(e){n(e.target.value)}})})}),Object(I.jsxs)("div",{className:T.a.resultWrapper,children:[Object(I.jsxs)("div",{className:T.a.resultBlock,children:[Object(I.jsx)("span",{className:T.a.resultText,children:"Rate"}),Object(I.jsx)("div",{className:T.a.resultValue,children:s})]}),Object(I.jsxs)("div",{className:T.a.resultBlock,children:[Object(I.jsx)("span",{className:T.a.resultText,children:"Result"}),Object(I.jsx)("div",{className:T.a.resultValue,children:a})]})]})]})})},path:"/",exact:!0},{title:"\u041a\u0443\u0440\u0441 \u0432\u0430\u043b\u044e\u0442",component:function(){var e=Object(l.a)(w),t=Object(l.a)(E);return Object(c.useEffect)((function(){return S(t)}),[]),q((function(){return S(t)}),15e3),Object(I.jsxs)(P,{children:[Object(I.jsxs)("div",{className:H.a.hWrapper,children:[Object(I.jsx)("h1",{children:"Exchange Rates"}),Object(I.jsxs)("span",{style:{color:"#75777e"},children:["(for 1 ",t,")"]})]}),Object(I.jsx)("div",{className:H.a.rateWrapper,children:Array.from(e).map((function(e,t){var r=Object(u.a)(e,2),c=r[0],n=r[1];return Object(I.jsxs)("div",{className:H.a.rateItem,children:[Object(I.jsx)("div",{children:n.toFixed(2)}),Object(I.jsx)("div",{children:c.slice(-3)})]},c)}))})]})},path:"/currency-rate"}];r(94);var Z=function(){return Object(I.jsx)("div",{className:"App",children:Object(I.jsx)(s.c,{children:M.map((function(e){return Object(I.jsx)(s.a,{exact:e.exact,path:e.path,component:e.component},e.path)}))})})};a.a.render(Object(I.jsx)(d.a,{children:Object(I.jsx)(Z,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.f8366f81.chunk.js.map